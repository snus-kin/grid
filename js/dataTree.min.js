!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(c){var d=a("./src/tree");!function(){var a={create:function(){return new d}};"undefined"!=typeof b&&"undefined"!=typeof b.exports?b.exports=a:"function"==typeof define&&define.amd?define([],function(){return a}):window.dataTree=a,"undefined"!=typeof c&&(c.dataTree=a)}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./src/tree":4}],2:[function(a,b,c){b.exports=function(){"use strict";function a(a){if(!a)throw new Error("Could not find a tree that is to be traversed");this._tree=a}return a.prototype.searchDFS=function(a){var b=null;return function c(d){return d.matchCriteria(a)?b=d:void d._childNodes.some(c)}(this._tree._rootNode),b},a.prototype.searchBFS=function(a){var b=null;return function(c){for(;c.length;){var d=c.splice(0,1)[0];if(d.matchCriteria(a))return void(b=d);d._childNodes.forEach(function(a){c.push(a)})}}([this._tree._rootNode]),b},a.prototype.traverseDFS=function(a){!function b(c){a(c),c._childNodes.forEach(b)}(this._tree._rootNode)},a.prototype.traverseBFS=function(a){!function(b){for(;b.length;){var c=b.splice(0,1)[0];a(c),c._childNodes.forEach(function(a){b.push(a)})}}([this._tree._rootNode])},a}()},{}],3:[function(a,b,c){b.exports=function(){"use strict";function a(a){this._parentNode=null,this._childNodes=[],this._data=a,this._depth=-1}return a.prototype.parentNode=function(){return this._parentNode},a.prototype.childNodes=function(){return this._childNodes},a.prototype.data=function(a){return arguments.length>0?void(this._data=a):this._data},a.prototype.depth=function(){return this._depth},a.prototype.matchCriteria=function(a){return a(this._data)},a.prototype.siblings=function(){var a=this;return this._parentNode?this._parentNode._childNodes.filter(function(b){return b!==a}):[]},a.prototype.distanceToRoot=function(){for(var a=0,b=this;b.parentNode();)a++,b=b.parentNode();return a},a.prototype.getAncestry=function(){for(var a=[this],b=this;b.parentNode();)a.push(b.parentNode()),b=b.parentNode();return a},a.prototype["export"]=function(a){if(!a||"function"!=typeof a)throw new Error("Export criteria not specified");var b=function(c){var d=c.matchCriteria(a);if(d&&"object"==typeof d)return d.children=[],c._childNodes.forEach(function(a){d.children.push(b(a))}),d;throw new Error("Export criteria should always return an object and it cannot be null.")};return b(this)},a}()},{}],4:[function(a,b,c){var d=a("./tree-node"),e=a("./traverser");b.exports=function(){"use strict";function a(){this._rootNode=null,this._currentNode=null,this._traverser=new e(this)}return a.prototype.rootNode=function(){return this._rootNode},a.prototype.currentNode=function(){return this._currentNode},a.prototype.traverser=function(){return this._traverser},a.prototype.isEmpty=function(){return null===this._rootNode&&null===this._currentNode},a.prototype.pruneAllNodes=function(){return this._rootNode&&this._currentNode&&this.trimBranchFrom(this._rootNode),this},a.prototype.insert=function(a){var b=new d(a);return null===this._rootNode&&null===this._currentNode?(b._depth=1,this._rootNode=this._currentNode=b):(b._parentNode=this._currentNode,this._currentNode._childNodes.push(b),this._currentNode=b,b.depth=b._parentNode._depth+1),b},a.prototype.remove=function(a,b){b||a===this._rootNode?this.trimBranchFrom(a):(a._childNodes.forEach(function(b){b._parentNode=a._parentNode,a._parentNode._childNodes.push(b)}),a._parentNode._childNodes.splice(a._parentNode._childNodes.indexOf(a),1),this._currentNode=a._parentNode,a._childNodes=[],a._parentNode=null,a._data=null)},a.prototype.trimBranchFrom=function(a){var b=this;!function c(a){a._childNodes.forEach(c),a._childNodes=[],a._data=null}(a),a._parentNode?(a._parentNode._childNodes.splice(a._parentNode._childNodes.indexOf(a),1),b._currentNode=a._parentNode):b._rootNode=b._currentNode=null},a.prototype.insertTo=function(a,b){var c=this.traverser().searchDFS(a);return this.insertToNode(c,b)},a.prototype.insertToNode=function(a,b){var c=new d(b);return c._parentNode=a,c._depth=c._parentNode._depth+1,a._childNodes.push(c),this._currentNode=c,c},a.prototype.distanceBetween=function(a,b){return a.distanceToRoot()+b.distanceToRoot()-2*this.findCommonParent(a,b).distanceToRoot()},a.prototype.findCommonParent=function(a,b){var c=a.getAncestry(),d=b.getAncestry(),e=null;return c.some(function(a){if(d.indexOf(a)!==-1)return e=a,!0}),e},a.prototype["export"]=function(a){return this._rootNode?this._rootNode["export"](a):null},a.prototype.compress=function(b){if(!b||"function"!=typeof b)throw new Error("Compress criteria not specified");if(this.isEmpty())return null;var c=new a,d=this;return function e(a,f){var g=d.rootNode()===a||a.matchCriteria(b);g?f=c.isEmpty()?c.insert(a.data()):c.insertToNode(f,a.data()):f._data.hasCompressedNodes=!0,a.childNodes().forEach(function(a){e(a,f)})}(this.rootNode(),null),c},a.prototype["import"]=function(a,b,c){this._rootNode&&this.trimBranchFrom(this._rootNode),this._currentNode=this._rootNode=null;var d=this;return function e(a,f){var g=c(f);a=a?d.insertToNode(a,g):d.insert(g),f[b].forEach(function(b){e(a,b)})}(this._rootNode,a),this._currentNode=this._rootNode,this},a}()},{"./traverser":2,"./tree-node":3}]},{},[1]);